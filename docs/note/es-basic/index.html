<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">ElasticSearch åŸºç¡€ | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://tomoya06.github.io//docs/note/es-basic"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="ElasticSearch åŸºç¡€ | My Site"><meta data-react-helmet="true" name="description" content="ä»‹ç»ä¸‹ESçš„ç”¨æ³•"><meta data-react-helmet="true" property="og:description" content="ä»‹ç»ä¸‹ESçš„ç”¨æ³•"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://tomoya06.github.io//docs/note/es-basic"><link data-react-helmet="true" rel="alternate" href="https://tomoya06.github.io//docs/note/es-basic" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://tomoya06.github.io//docs/note/es-basic" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9e7bfb73.css">
<link rel="preload" href="/assets/js/runtime~main.e7db21f9.js" as="script">
<link rel="preload" href="/assets/js/main.5dbb51fa.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">My Site</b></a><a class="navbar__item navbar__link" href="/docs/codezone_intro">CodeZone</a><a class="navbar__item navbar__link" href="/docs/å‰‘æŒ‡offer/å‰‘æŒ‡offer_intro">å‰‘æŒ‡offer</a><a class="navbar__item navbar__link" href="/docs/å‰‘æŒ‡offerä¸“é¡¹ç‰ˆ/å‰‘æŒ‡offerä¸“é¡¹ç‰ˆ_intro">å‰‘æŒ‡offerä¸“é¡¹ç‰ˆ</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/note_intro">éšæ‰‹è®°</a><a class="navbar__item navbar__link" href="/blog">åšå®¢</a><a href="https://github.com/tomoya06" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ElasticSearch åŸºç¡€</h1></header><blockquote><p>ä»‹ç»ä¸‹ESçš„ç”¨æ³•</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="ç®€ä»‹"></a>ç®€ä»‹<a class="hash-link" href="#ç®€ä»‹" title="Direct link to heading">#</a></h2><ol><li>é¢å‘æ–‡æ¡£ï¼šJSONæ–‡æ¡£ï¼Œä¸€ä¸ªæ–‡æ¡£ä»£è¡¨ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹æ–‡æ¡£è¿›è¡Œç´¢å¼•ã€æ£€ç´¢ã€æ’åºå’Œè¿‡æ»¤--è€Œä¸æ˜¯å¯¹è¡Œåˆ—æ•°æ®</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="äº¤äº’åŸºç¡€"></a>äº¤äº’åŸºç¡€<a class="hash-link" href="#äº¤äº’åŸºç¡€" title="Direct link to heading">#</a></h2><ol><li>ç›´æ¥ä½¿ç”¨RESTful APIé€šè¿‡ç«¯å£9200ä¸ESé€šä¿¡ï¼Œç”šè‡³CURL</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X&lt;VERB&gt; &#x27;&lt;PROTOCOL&gt;://&lt;HOST&gt;:&lt;PORT&gt;/&lt;PATH&gt;?&lt;QUERY_STRING&gt;&#x27; -d &#x27;&lt;BODY&gt;&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">VERB</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  é€‚å½“çš„ HTTP æ–¹æ³• æˆ– è°“è¯ : GET`ã€ `POST`ã€ `PUT`ã€ `HEAD æˆ–è€… `DELETE`ã€‚</span></span><span class="token-line" style="color:#393A34"><span class="token plain">PROTOCOL</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  http æˆ–è€… https`ï¼ˆå¦‚æœä½ åœ¨ Elasticsearch å‰é¢æœ‰ä¸€ä¸ª `https ä»£ç†ï¼‰</span></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Elasticsearch é›†ç¾¤ä¸­ä»»æ„èŠ‚ç‚¹çš„ä¸»æœºåï¼Œæˆ–è€…ç”¨ localhost ä»£è¡¨æœ¬åœ°æœºå™¨ä¸Šçš„èŠ‚ç‚¹ã€‚</span></span><span class="token-line" style="color:#393A34"><span class="token plain">PORT</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  è¿è¡Œ Elasticsearch HTTP æœåŠ¡çš„ç«¯å£å·ï¼Œé»˜è®¤æ˜¯ 9200 ã€‚</span></span><span class="token-line" style="color:#393A34"><span class="token plain">PATH</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  API çš„ç»ˆç«¯è·¯å¾„ï¼ˆä¾‹å¦‚ _count å°†è¿”å›é›†ç¾¤ä¸­æ–‡æ¡£æ•°é‡ï¼‰ã€‚Path å¯èƒ½åŒ…å«å¤šä¸ªç»„ä»¶ï¼Œä¾‹å¦‚ï¼š_cluster/stats å’Œ _nodes/stats/jvm ã€‚</span></span><span class="token-line" style="color:#393A34"><span class="token plain">QUERY_STRING</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  ä»»æ„å¯é€‰çš„æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•° (ä¾‹å¦‚ ?pretty å°†æ ¼å¼åŒ–åœ°è¾“å‡º JSON è¿”å›å€¼ï¼Œä½¿å…¶æ›´å®¹æ˜“é˜…è¯»)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">BODY</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  ä¸€ä¸ª JSON æ ¼å¼çš„è¯·æ±‚ä½“ (å¦‚æœè¯·æ±‚éœ€è¦çš„è¯)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="2"><li>å„è‡ªçš„è¯­è¨€å®¢æˆ·ç«¯</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ<a class="hash-link" href="#åŸºæœ¬æ“ä½œ" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X PUT &quot;localhost:9200/megacorp/employee/1?pretty&quot; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;first_name&quot; : &quot;John&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;last_name&quot; :  &quot;Smith&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;age&quot; :        25,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;about&quot; :      &quot;I love to go rock climbing&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;interests&quot;: [ &quot;sports&quot;, &quot;music&quot; ]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">megacorp</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   ç´¢å¼•åç§°</span></span><span class="token-line" style="color:#393A34"><span class="token plain">employee</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   ç±»å‹åç§°</span></span><span class="token-line" style="color:#393A34"><span class="token plain">1</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   ç‰¹å®šé›‡å‘˜çš„ID</span></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="æŒ‡ä»¤æ›¿æ¢"></a>æŒ‡ä»¤æ›¿æ¢<a class="hash-link" href="#æŒ‡ä»¤æ›¿æ¢" title="Direct link to heading">#</a></h3><ul><li>PUTï¼šæ’å…¥ï¼Œéœ€æºå¸¦IDï¼›å¯¹åŒä¸€ç´¢å¼•å†æ¬¡æ‰§è¡Œï¼Œåˆ™å…¨æ–‡æ›´æ–°</li><li>POSTï¼šæ–°å»ºï¼Œä¸ç”¨å¸¦IDï¼Œç”±ESè‡ªåŠ¨ç”ŸæˆID</li><li>GETï¼šæ£€ç´¢</li><li>DELETEï¼šåˆ é™¤</li><li>HEADï¼š?æ£€æŸ¥æ–‡æ¡£æ˜¯å¦å­˜åœ¨</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="æœç´¢"></a>æœç´¢<a class="hash-link" href="#æœç´¢" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// å…¨éƒ¨</span></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET &quot;localhost:9200/megacorp/employee/_search?pretty&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Query-stringæœç´¢</span></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET &quot;localhost:9200/megacorp/employee/_search?q=last_name:Smith&amp;pretty&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// æŸ¥è¯¢è¡¨è¾¾å¼æœç´¢</span></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET &quot;localhost:9200/megacorp/employee/_search?pretty&quot; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;query&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;match&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;last_name&quot; : &quot;Smith&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="é«˜çº§æœç´¢"></a>é«˜çº§æœç´¢<a class="hash-link" href="#é«˜çº§æœç´¢" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// æ›´å¤æ‚çš„queryï¼Œå¼•å…¥must/match; filter/range</span></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET &quot;localhost:9200/megacorp/employee/_search?pretty&quot; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;query&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;bool&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;must&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;match&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;last_name&quot; : &quot;smith&quot; </span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;filter&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;range&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;age&quot; : { &quot;gt&quot; : 30 } </span></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// å…¨æ–‡æœç´¢</span></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET &quot;localhost:9200/megacorp/employee/_search?pretty&quot; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;query&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;match&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;about&quot; : &quot;rock climbing&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// è¿”å›</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// &quot;_score&quot;: ç›¸å…³æ€§å¾—åˆ†</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// çŸ­è¯­æœç´¢/ç²¾ç¡®åŒ¹é…æœç´¢</span></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET &quot;localhost:9200/megacorp/employee/_search?pretty&quot; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;query&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;match_phrase&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;about&quot; : &quot;rock climbing&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// é«˜äº®æœç´¢</span></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET &quot;localhost:9200/megacorp/employee/_search?pretty&quot; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;query&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;match_phrase&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;about&quot; : &quot;rock climbing&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;highlight&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;fields&quot; : {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;about&quot; : {}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="èšåˆ"></a>èšåˆ<a class="hash-link" href="#èšåˆ" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET &quot;localhost:9200/megacorp/employee/_search?pretty&quot; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;aggs&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;all_interests&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;terms&quot;: { &quot;field&quot;: &quot;interests&quot; }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }W</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="æœç´¢è¯¦è§£"></a>æœç´¢è¯¦è§£<a class="hash-link" href="#æœç´¢è¯¦è§£" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="-è¿‡æ»¤-vs-æŸ¥è¯¢"></a>* è¿‡æ»¤ vs æŸ¥è¯¢<a class="hash-link" href="#-è¿‡æ»¤-vs-æŸ¥è¯¢" title="Direct link to heading">#</a></h3><ul><li>filterï¼šä¸è¯„åˆ†ï¼Œé€Ÿåº¦å¿«</li><li>queryï¼šè¯„åˆ†ï¼Œæœ‰ç›¸å…³åº¦è¯„åˆ†_scoreæ’åº</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="-å¸¸ç”¨æœç´¢æŒ‡ä»¤"></a>* å¸¸ç”¨æœç´¢æŒ‡ä»¤<a class="hash-link" href="#-å¸¸ç”¨æœç´¢æŒ‡ä»¤" title="Direct link to heading">#</a></h3><ul><li>ä¸€èˆ¬å‚æ•°<ul><li>match_all / match / multi_match</li><li>range + gt / gte / lt / lte</li><li>term ç²¾ç¡®å€¼ / terms</li><li>exists / missing</li></ul></li><li>bool å¤åˆè¯­å¥ï¼Œåˆå¹¶å¤šä¸ªæŸ¥è¯¢è¯­å¥ï¼Œå¯æ¥å—ä»¥ä¸‹å‚æ•°<ul><li>must æ–‡æ¡£ å¿…é¡» åŒ¹é…è¿™äº›æ¡ä»¶æ‰èƒ½è¢«åŒ…å«è¿›æ¥ã€‚</li><li>must_not æ–‡æ¡£ å¿…é¡»ä¸ åŒ¹é…è¿™äº›æ¡ä»¶æ‰èƒ½è¢«åŒ…å«è¿›æ¥ã€‚</li><li>should å¦‚æœæ»¡è¶³è¿™äº›è¯­å¥ä¸­çš„ä»»æ„è¯­å¥ï¼Œå°†å¢åŠ  _score ï¼Œå¦åˆ™ï¼Œæ— ä»»ä½•å½±å“ã€‚å®ƒä»¬ä¸»è¦ç”¨äºä¿®æ­£æ¯ä¸ªæ–‡æ¡£çš„ç›¸å…³æ€§å¾—åˆ†</li><li>filter å¿…é¡» åŒ¹é…ï¼Œä½†å®ƒä»¥ä¸è¯„åˆ†ã€è¿‡æ»¤æ¨¡å¼æ¥è¿›è¡Œã€‚è¿™äº›è¯­å¥å¯¹è¯„åˆ†æ²¡æœ‰è´¡çŒ®ï¼Œåªæ˜¯æ ¹æ®è¿‡æ»¤æ ‡å‡†æ¥æ’é™¤æˆ–åŒ…å«æ–‡æ¡£ã€‚</li></ul></li></ul><blockquote><p>must / must_not / should éƒ½å½±å“è¯„åˆ†ï¼Œfilterè·Ÿmustå¯¹æœ€åå¾—åˆ°çš„æœç´¢ç»“æœä½œç”¨ä¸€æ ·ï¼Œä½†filterä¸ä¼šå¯¹æ¯é¡¹çš„ç›¸å…³åº¦è¯„åˆ†é€ æˆå½±å“</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="-æŸ¥è¯¢è¯­å¥ç»“æ„"></a>* æŸ¥è¯¢è¯­å¥ç»“æ„<a class="hash-link" href="#-æŸ¥è¯¢è¯­å¥ç»“æ„" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">QUERY_NAME := ä¸€èˆ¬å‚æ•°</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// ä¸é’ˆå¯¹å­—æ®µ</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    QUERY_NAME: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ARGUMENT: VALUE,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ARGUMENT: VALUE,...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// é’ˆå¯¹å­—æ®µ</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    QUERY_NAME: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        FIELD_NAME: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ARGUMENT: VALUE,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            ARGUMENT: VALUE,...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// å¤åˆè¯­å¥</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;bool&quot;: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      BOOL_ARGUMENT: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        QUERY_NAME: {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/docs/tags/java">Java</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/docs/tags/elastic-search">ElasticSearch</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/docs/tags/åç«¯">åç«¯</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ç®€ä»‹" class="table-of-contents__link">ç®€ä»‹</a></li><li><a href="#äº¤äº’åŸºç¡€" class="table-of-contents__link">äº¤äº’åŸºç¡€</a></li><li><a href="#åŸºæœ¬æ“ä½œ" class="table-of-contents__link">åŸºæœ¬æ“ä½œ</a><ul><li><a href="#æŒ‡ä»¤æ›¿æ¢" class="table-of-contents__link">æŒ‡ä»¤æ›¿æ¢</a></li></ul></li><li><a href="#æœç´¢" class="table-of-contents__link">æœç´¢</a></li><li><a href="#é«˜çº§æœç´¢" class="table-of-contents__link">é«˜çº§æœç´¢</a></li><li><a href="#èšåˆ" class="table-of-contents__link">èšåˆ</a></li><li><a href="#æœç´¢è¯¦è§£" class="table-of-contents__link">æœç´¢è¯¦è§£</a><ul><li><a href="#-è¿‡æ»¤-vs-æŸ¥è¯¢" class="table-of-contents__link">* è¿‡æ»¤ vs æŸ¥è¯¢</a></li><li><a href="#-å¸¸ç”¨æœç´¢æŒ‡ä»¤" class="table-of-contents__link">* å¸¸ç”¨æœç´¢æŒ‡ä»¤</a></li><li><a href="#-æŸ¥è¯¢è¯­å¥ç»“æ„" class="table-of-contents__link">* æŸ¥è¯¢è¯­å¥ç»“æ„</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">å¿«æ·æ–¹å¼</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/å‰‘æŒ‡offer/å‰‘æŒ‡offer_intro">å‰‘æŒ‡offeré¢˜åº“</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/å‰‘æŒ‡offerä¸“é¡¹ç‰ˆ/å‰‘æŒ‡offerä¸“é¡¹ç‰ˆ_intro">å‰‘æŒ‡offerä¸“é¡¹ç‰ˆé¢˜åº“</a></li></ul></div><div class="col footer__col"><div class="footer__title">è”ç³»æˆ‘</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/tomoya06" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.instagram.com/pjh_tomoya06/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/tomoya06/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">æˆ‘åœ¨çœ‹...</div><ul class="footer__items"><li class="footer__item"><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>TypeSctipt<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.instagram.com/russian_romantics/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ä¿„ç½—æ–¯çƒ‚æ¼«<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>é—²æš‡æ—¶å…‰ â˜•<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 tomoya06's HomePage, Heavelop Inc. <br>Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e7db21f9.js"></script>
<script src="/assets/js/main.5dbb51fa.js"></script>
</body>
</html>
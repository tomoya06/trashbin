---
tags:
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - å‰ç¼€å’Œ
  - å‰‘æŒ‡offerä¸“é¡¹ç‰ˆ
id: leetcode_OfferII011
title: ğŸŸ¡ å‰‘æŒ‡ Offer II 011. 0 å’Œ 1 ä¸ªæ•°ç›¸åŒçš„å­æ•°ç»„
ques_id: OfferII011
platform: leetcode
online_link: https://leetcode-cn.com/problems/A1NYOS/
online_name: 0 å’Œ 1 ä¸ªæ•°ç›¸åŒçš„å­æ•°ç»„
level: m
---

export const Highlight = ({children, color}) => (
  <span
    style={{
      backgroundColor: color,
      borderRadius: '2px',
      color: '#fff',
      padding: '0.2rem',
    }}>
    {children}
  </span>
);

:::tip LeetCode æç¤º

é¢˜ç›®éš¾åº¦ <Highlight color="#ffc01e">ä¸­ç­‰</Highlight>

åŸé¢˜é“¾æ¥ [ğŸ”— leetcode](https://leetcode-cn.com/problems/A1NYOS/)

:::

## é¢˜è§£1

ç¬¬ä¸€ååº”å°±æ˜¯ç”¨å‰ç¼€å’Œæ•°ç»„ï¼Œä½†å®˜æ–¹é¢˜è§£å†æä¾›äº†ä¸€ä¸ªæ›´åŠ ç²¾å¦™çš„æ€è·¯ï¼Œå°±æ˜¯æŠŠ0å½“åš-1ã€‚

è¿™æ ·æœ‰ä¸¤ä¸ªå¥½å¤„ï¼Œä¸€æ˜¯é¢˜ç›®å°±å˜æˆäº†â€œè®¡ç®—å’Œä¸º0çš„æœ€å¤§å­æ•°ç»„é•¿åº¦â€ï¼›äºŒæ˜¯åªéœ€è¦å…³æ³¨æ¯ç§å‰ç¼€å’Œç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®å³å¯ï¼Œåªè¦ä¸€æ¬¡éå†å°±å¤Ÿäº†ã€‚

```java
class Solution {
    public int findMaxLength(int[] nums) {
        var preSumPos = new HashMap<Integer, Integer>();
        int n = nums.length;
        int curSum = 0;
        int res = 0;
        preSumPos.put(0, -1);

        for (int i=0; i<n; i++) {
            curSum += nums[i] == 1 ? 1 : -1;
            if (preSumPos.containsKey(curSum)) {
                res = Math.max(res, i-preSumPos.get(curSum));
            } else {
                preSumPos.put(curSum, i);
            }
        }

        return res;
    }
}
```

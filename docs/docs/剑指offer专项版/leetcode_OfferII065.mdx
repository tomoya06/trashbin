---
tags:
  - å­—å…¸æ ‘
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - å­—ç¬¦ä¸²
  - å‰‘æŒ‡offerä¸“é¡¹ç‰ˆ
id: leetcode_OfferII065
title: ğŸŸ¡ å‰‘æŒ‡ Offer II 065. æœ€çŸ­çš„å•è¯ç¼–ç 
ques_id: OfferII065
platform: leetcode
online_link: https://leetcode-cn.com/problems/iSwD2y/
online_name: æœ€çŸ­çš„å•è¯ç¼–ç 
level: m
---

export const Highlight = ({children, color}) => (
  <span
    style={{
      backgroundColor: color,
      borderRadius: '2px',
      color: '#fff',
      padding: '0.2rem',
    }}>
    {children}
  </span>
);

:::tip LeetCode æç¤º

é¢˜ç›®éš¾åº¦ <Highlight color="#ffc01e">ä¸­ç­‰</Highlight>

åŸé¢˜é“¾æ¥ [ğŸ”— leetcode](https://leetcode-cn.com/problems/iSwD2y/)

:::


è¿™é“é¢˜å¯ä»¥ç›´æ¥ç”¨æ¶ˆç­åç¼€çš„æ–¹æ³•æ¥åšï¼Œå¦å¤–æ³¨æ„åˆ°æ¯ä¸ªå•è¯æœ€é•¿7ä½ï¼Œæ‰€ä»¥ç›´æ¥æšä¸¾æ¶ˆé™¤æ¯ä¸ªå•è¯çš„7ä¸ªåç¼€ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚

ä¸è¿‡è¿™é‡Œçœ‹åˆ°æœ‰ä¸€ä¸ªæ›´ä¸ºå…ˆè¿›çš„æ–¹æ³•ï¼Œå­—å…¸æ ‘desuã€‚

## é¢˜è§£1

å®˜æ–¹é¢˜è§£[åœ¨è¿™é‡Œ](https://leetcode-cn.com/problems/iSwD2y/solution/zui-duan-de-dan-ci-bian-ma-by-leetcode-s-qjxw/)ã€‚

æŠ„è¢­è¿‡ç¨‹ä¸­æœ‰ä¸¤ä¸ªæ³¨æ„ç‚¹ï¼š

1. `endNodes` æ˜¯ `HashMap`ï¼Œè€Œä¸æ˜¯`TrieNode[]`ï¼šå¦‚æœæœ‰é‡å¤çš„ç›¸åŒå•è¯ï¼Œ`HashMap`å¯ä»¥é¡ºä¾¿è§£å†³å»é‡çš„é—®é¢˜ï¼Œä½†`array`ä¸è¡Œï¼Œä»è€Œå¯¼è‡´å¤šä¸ªç›¸åŒå•è¯é‡å¤è®¡ç®—é•¿åº¦ã€‚
2. `res` åˆ°åº•æ˜¯æ€ä¹ˆè®¡ç®—çš„ï¼Ÿè¿˜æ˜¯ä»`endNodes`å…¥æ‰‹ï¼š
    1. æ€ä¹ˆåˆ¤æ–­`endNodes`é‡Œå“ªäº›`node`æ˜¯å¯ç”¨çš„ï¼Ÿ`node.cnt == 0`è¯´æ˜è¿™ä¸ªèŠ‚ç‚¹æ˜¯å¶å­ï¼Œå¯ä»¥ç”¨
    2. ç„¶åè¦æ€ä¹ˆç”¨ï¼Ÿ`endNodes`çš„`value`å€¼è¡¨ç¤ºæ’å…¥è¿™ä¸ª`node`çš„å•è¯`index`ï¼Œæ‰¾åˆ°å¯¹åº”çš„å•è¯ç›´æ¥ç´¯åŠ å…¶é•¿åº¦å³å¯

```java
class TrieNode {
    int cnt;
    TrieNode[] children;

    public TrieNode() {
        this.cnt = 0;
        this.children = new TrieNode[26];
    }

    public TrieNode get(char c) {
        if (this.children[c-'a'] == null) {
            this.children[c-'a'] = new TrieNode();
            this.cnt += 1;
        }
        return this.children[c-'a'];
    }
}

class Solution {
    public int minimumLengthEncoding(String[] words) {
        int n = words.length;
        HashMap<TrieNode, Integer> endNodes = new HashMap<>();
        TrieNode root = new TrieNode();

        for (int wi=0; wi<n; wi+=1) {
            TrieNode cur = root;
            String word = words[wi];
            for (int i=word.length()-1; i>=0; i-=1) {
                cur = cur.get(word.charAt(i));
            }
            endNodes.put(cur, wi);
        }
        
        int res = 0;
        for (TrieNode node: endNodes.keySet()) {
            if (node.cnt == 0) {
                res += words[endNodes.get(node)].length() + 1;
            }
        }

        return res;
    }
}

```

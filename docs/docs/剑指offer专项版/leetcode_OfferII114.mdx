---
tags:
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - å›¾
  - æ‹“æ‰‘æ’åº
  - æ•°ç»„
  - å­—ç¬¦ä¸²
  - å‰‘æŒ‡offerä¸“é¡¹ç‰ˆ
id: leetcode_OfferII114
title: ğŸ”´ å‰‘æŒ‡ Offer II 114. å¤–æ˜Ÿæ–‡å­—å…¸
ques_id: OfferII114
platform: leetcode
online_link: https://leetcode-cn.com/problems/Jf1JuT/
online_name: å¤–æ˜Ÿæ–‡å­—å…¸
level: h
---

export const Highlight = ({children, color}) => (
  <span
    style={{
      backgroundColor: color,
      borderRadius: '2px',
      color: '#fff',
      padding: '0.2rem',
    }}>
    {children}
  </span>
);

:::tip LeetCode æç¤º

é¢˜ç›®éš¾åº¦ <Highlight color="#ff375f">å›°éš¾</Highlight>

åŸé¢˜é“¾æ¥ [ğŸ”— leetcode](https://leetcode-cn.com/problems/Jf1JuT/)

:::

## é¢˜è§£1

å‚è€ƒ[é¢˜è§£](https://leetcode-cn.com/problems/Jf1JuT/solution/tu-bfstuo-bu-pai-xu-suan-fa-by-sloanchen-08qb/)ã€‚

æ•´ä½“åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼Œ1æ˜¯å»ºç«‹æ‹“æ‰‘å›¾ï¼Œ2æ˜¯æ‹“æ‰‘æ’åºã€‚æ‹“æ‰‘æ’åºä½¿ç”¨BFS+å…¥åº¦è¡¨å®ç°ï¼Œå¯ä»¥å‚è€ƒå‰‘æŒ‡offerä¸“é¡¹ç‰ˆ113é¢˜ã€‚

å»ºç«‹æ‹“æ‰‘å›¾éœ€è¦æ³¨æ„ï¼š
1. åªéœ€è¦å…³æ³¨ç›¸é‚»ä¸¤ä¸ªå•è¯ç¬¬ä¸€ä¸ªä¸ç›¸åŒçš„å­—æ¯å³å¯ï¼Œå¤„ç†å®Œç¬¬ä¸€ä¸ªä¸åŒå­—æ¯ä¹‹åå³å¯ç»§ç»­ä¸‹ä¸€ç»„å•è¯
2. ç»™çš„å­—å…¸å¯èƒ½å°±æ˜¯é”™çš„ï¼Œä¾‹å¦‚`abc ab`æ˜¯ä¸åº”è¯¥å‡ºç°çš„

è¿™é“é¢˜éš¾ç‚¹ä¸»è¦åœ¨äºéœ€è¦è‡ªå·±å»ºç«‹æ‹“æ‰‘å›¾ã€‚

```java
class Solution {
    public String alienOrder(String[] words) {
        Map<Character, List<Character>> routes = new HashMap<>();
        int[] inDegrees = new int[26];

        for (String word : words) {
            for (int i=0; i<word.length(); i+=1) {
                routes.putIfAbsent(word.charAt(i), new ArrayList<>());
            }
        }

        for (int i=1; i<words.length; i+=1) {
            String s1 = words[i-1], s2 = words[i];
            int n1 = s1.length(), n2 = s2.length();
            if (n1 > n2 && s1.startsWith(s2)) {
                return "";
            }

            for (int j=0; j<Math.min(n1, n2); j+=1) {
                char c1 = s1.charAt(j), c2 = s2.charAt(j);
                if (c1 != c2) {
                    routes.get(c1).add(c2);
                    inDegrees[c2-'a'] += 1;
                    break;
                }
            }
        }

        Queue<Character> queue = new LinkedList<>();
        int totalSize = routes.size();
        StringBuilder sb = new StringBuilder();

        for (char key : routes.keySet()) {
            if (inDegrees[key-'a'] == 0) {
                queue.offer(key);
            }
        }

        while (!queue.isEmpty()) {
            char left = queue.poll();
            sb.append(left);
            
            for (char right : routes.get(left)) {
                if (--inDegrees[right-'a'] == 0) {
                    queue.offer(right);
                }
            }
        }

        if (sb.length() == totalSize) {
            return sb.toString();
        }

        return "";
    }
}
```

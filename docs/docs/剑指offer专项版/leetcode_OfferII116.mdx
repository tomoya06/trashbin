---
tags:
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - å¹¶æŸ¥é›†
  - å›¾
  - å‰‘æŒ‡offerä¸“é¡¹ç‰ˆ
id: leetcode_OfferII116
title: ğŸŸ¡ å‰‘æŒ‡ Offer II 116. çœä»½æ•°é‡
ques_id: OfferII116
platform: leetcode
online_link: https://leetcode-cn.com/problems/bLyHh0/
online_name: çœä»½æ•°é‡
level: m
---

export const Highlight = ({children, color}) => (
  <span
    style={{
      backgroundColor: color,
      borderRadius: '2px',
      color: '#fff',
      padding: '0.2rem',
    }}>
    {children}
  </span>
);

:::tip LeetCode æç¤º

é¢˜ç›®éš¾åº¦ <Highlight color="#ffc01e">ä¸­ç­‰</Highlight>

åŸé¢˜é“¾æ¥ [ğŸ”— leetcode](https://leetcode-cn.com/problems/bLyHh0/)

:::

## é¢˜è§£1

æƒ³åˆ°äº†æŸé“é¢˜ç”¨parentsçš„æ–¹æ³•ï¼Œå­¦åå«åš[å¹¶æŸ¥é›†](https://zhuanlan.zhihu.com/p/93647900)ã€‚

å…³é”®åœ¨äºå¦‚ä½•åˆå¹¶parentèŠ‚ç‚¹ï¼Œè¿™é‡Œè¿˜æ˜¯çœ‹äº†ä¸‹é¢˜è§£ï¼š

```java
class Solution {
    public int findCircleNum(int[][] isConnected) {
        int n = isConnected.length;
        int[] parents = new int[n];

        for (int i=0; i<n; i+=1) {
            parents[i] = i;
        }

        for (int i=1; i<n; i+=1) {
            for (int j=0; j<i; j+=1) {
                if (isConnected[i][j] == 1) {
                    union(parents, i, j);
                }
            }
        }

        int res = n;
        for (int i=0; i<n; i+=1) {
            if (parents[i] != i) {
                res -= 1;
            }
        }

        return res;
    }

    private void union(int[] parents, int i, int j) {
        parents[find(parents, i)] = find(parents, j);
    }

    private int find(int[] parents, int i) {
        if (parents[i] == i) {
            return i;
        }
        parents[i] = find(parents, parents[i]);
        return parents[i];
    }
}
```

# é¢˜è§£2

ç”¨å›ä¼ ç»Ÿçš„DFSå’¯

```java
class Solution {
    private void dfs(int[][] isConnected, boolean[] visited, int entry, int size) {
        if (visited[entry]) {
            return;
        }
        visited[entry] = true;
        for (int i=0; i<size; i+=1) {
            if (isConnected[entry][i] == 1) {
                dfs(isConnected, visited, i, size);
            }
        }
    }

    public int findCircleNum(int[][] isConnected) {
        int n = isConnected.length;
        boolean[] visited = new boolean[n];
        int res = 0;

        for (int i=0; i<n; i+=1) {
            if (!visited[i]) {
                res += 1;
                dfs(isConnected, visited, i, n);
            }
        }

        return res;
    }
}
```


---
tags:
  - å“ˆå¸Œè¡¨
  - åŒæŒ‡é’ˆ
  - å­—ç¬¦ä¸²
  - æ»‘åŠ¨çª—å£
  - å‰‘æŒ‡offerä¸“é¡¹ç‰ˆ
id: leetcode_OfferII014
title: ğŸŸ¡ å‰‘æŒ‡ Offer II 014. å­—ç¬¦ä¸²ä¸­çš„å˜ä½è¯
ques_id: OfferII014
platform: leetcode
online_link: https://leetcode-cn.com/problems/MPnaiL/
online_name: å­—ç¬¦ä¸²ä¸­çš„å˜ä½è¯
level: m
---

export const Highlight = ({children, color}) => (
  <span
    style={{
      backgroundColor: color,
      borderRadius: '2px',
      color: '#fff',
      padding: '0.2rem',
    }}>
    {children}
  </span>
);

:::tip LeetCode æç¤º

é¢˜ç›®éš¾åº¦ <Highlight color="#ffc01e">ä¸­ç­‰</Highlight>

åŸé¢˜é“¾æ¥ [ğŸ”— leetcode](https://leetcode-cn.com/problems/MPnaiL/)

:::

## é¢˜è§£1

ä¸¤ä¸ªè¯è‹¥äº’ç›¸ä¸ºå˜ä½è¯ï¼Œé‚£ä¹ˆ26ä¸ªå­—æ¯åœ¨ä¸¤ä¸ªå•è¯ä¸­å‡ºç°çš„æ¬¡æ•°è‚¯å®šéƒ½ç›¸åŒã€‚

å¯ä»¥ç”¨æ»‘åŠ¨çª—å£çš„æ€è·¯ï¼Œç”¨ä¸¤ä¸ª26ä½æ•°ç»„`cnt1`å’Œ`cnt2`åˆ†åˆ«è®°å½•æ¯ä¸ªå­—æ¯åœ¨ä¸¤ä¸ªå•è¯ä¸­çš„æ•°é‡ï¼Œç§»åŠ¨çª—å£ï¼Œæ”¹å˜`cnt2`çš„å€¼ï¼Œç„¶åæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸åŒã€‚

ä½†æ¯æ¬¡ç§»åŠ¨çª—å£éƒ½æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„ï¼Œæœ‰ç‚¹ç´¯èµ˜ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå¸¸é‡diffè¡¨ç¤ºç›¸å·®çš„å­—æ¯æ•°é‡å³å¯ã€‚

åŒæ—¶å¯ä»¥ç®€åŒ–åªè¦ä¸€ä¸ª26ä½æ•°ç»„è®°å½•å³å¯ï¼Œæ•°ç»„æ¯ä¸€ä½å‡ä¸º0æ—¶diff=0ã€‚

ç”±æ­¤å¯å¾—ï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒS2æ¯ä¸ªå­—æ¯è´¡çŒ®ä¸º1ï¼ŒS1çš„ä¸º-1ã€‚

```java
class Solution {
    public boolean checkInclusion(String s1, String s2) {
        int l1 = s1.length(), l2 = s2.length();
        if (l1 > l2) {
            return false;
        }

        int[] cnt = new int[26];
        int diff = 0;

        for (int i=0; i<l1; i++) {
            cnt[s1.charAt(i)-'a'] -= 1;
            cnt[s2.charAt(i)-'a'] += 1;
        }
        for (int i=0; i<26; i++) {
            if (cnt[i] != 0) {
                diff += 1;
            }
        }

        if (diff == 0) {
            return true;
        }

        // çª—å£è¿›å…¥ä¸€ä¸ªyï¼Œå‡ºä¸€ä¸ªx
        char x, y;
        for (int i=l1; i<l2; i+=1) {
            x = s2.charAt(i-l1);
            y = s2.charAt(i);

            if (x == y) {
                continue;
            }

            cnt[y-'a'] += 1;
            cnt[x-'a'] -= 1;

            if (cnt[y-'a'] == 0) {
                diff -= 1;a
            }
            if (cnt[y-'a'] == 1) {
                diff += 1;
            }
            if (cnt[x-'a'] == 0) {
                diff -= 1;
            }
            if (cnt[x-'a'] == -1) {
                diff += 1;
            }

            if (diff == 0) {
                return true;
            }
        }

        return diff == 0;
    }
}
```

## é¢˜è§£2 å¯¹æ¯”

é¡ºä¾¿æ”¾ä¸€ä¸ªç®€åŒ–å‰çš„ç‰ˆæœ¬ï¼Œæ–¹ä¾¿æ¯”è¾ƒæ€è€ƒã€‚ï¼ˆè™½ç„¶é¢˜è§£1ä¹Ÿæ˜¯æŠ„çš„ï¼‰

```java
class Solution {
    public boolean checkInclusion(String s1, String s2) {
        int n = s1.length(), m = s2.length();
        if (n > m) {
            return false;
        }
        int[] cnt1 = new int[26];
        int[] cnt2 = new int[26];
        for (int i = 0; i < n; ++i) {
            ++cnt1[s1.charAt(i) - 'a'];
            ++cnt2[s2.charAt(i) - 'a'];
        }
        if (Arrays.equals(cnt1, cnt2)) {
            return true;
        }
        for (int i = n; i < m; ++i) {
            ++cnt2[s2.charAt(i) - 'a'];
            --cnt2[s2.charAt(i - n) - 'a'];
            if (Arrays.equals(cnt1, cnt2)) {
                return true;
            }
        }
        return false;
    }
}
```

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/MPnaiL/solution/zi-fu-chuan-zhong-de-bian-wei-ci-by-leet-wbma/
